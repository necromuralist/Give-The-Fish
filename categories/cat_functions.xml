<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Give the Fish (Posts about Functions)</title><link>https://necromuralist.github.io/Give-The-Fish/</link><description></description><atom:link href="https://necromuralist.github.io/Give-The-Fish/categories/cat_functions.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2025 &lt;a href="mailto:cloisteredmonkey.jmark@slmail.me"&gt;Cloistered Monkey&lt;/a&gt; 
&lt;div id="license"xmlns:cc="http://creativecommons.org/ns#" &gt;This work is licensed under
&lt;a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"&gt;CC BY 4.0
&lt;img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"&gt;
&lt;img src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"&gt;&lt;/a&gt;
&lt;/div&gt;
</copyright><lastBuildDate>Thu, 04 Dec 2025 22:30:38 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Upgrade Function</title><link>https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents" role="doc-toc"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents" role="doc-toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#orgeb1a962"&gt;The Function&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#org102a4c6"&gt;Bold Blue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#orge3e710d"&gt;Apt Calls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#org32fb363"&gt;Snap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#orgfa0829b"&gt;Flatpak&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#orga408d75"&gt;Uninstall&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#orga1da25c"&gt;Some Messages&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html#org904f869"&gt;Phased Updates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgeb1a962" class="outline-2"&gt;
&lt;h2 id="orgeb1a962"&gt;The Function&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgeb1a962"&gt;
&lt;p&gt;
This is a function to upgrade the various packages. It might, perhaps be better as an abbreviation…
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; upgrade --description &lt;span class="s2"&gt;"Upgrade packages."&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org102a4c6" class="outline-3"&gt;
&lt;h3 id="org102a4c6"&gt;Bold Blue&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org102a4c6"&gt;
&lt;p&gt;
This is a helper function to set lines (specifically headlines in this case) to be bold and blue. If this gets done enough maybe it should be a standalone function, but for now it's embedded in the &lt;code&gt;upgrade&lt;/code&gt; function.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; boldblue
    &lt;span class="nb"&gt;set_color&lt;/span&gt; --bold blue
    &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;
    &lt;span class="nb"&gt;set_color &lt;/span&gt;normal
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orge3e710d" class="outline-3"&gt;
&lt;h3 id="orge3e710d"&gt;Apt Calls&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orge3e710d"&gt;
&lt;p&gt;
These are calls to update the debian-based packages.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-org613a01c" class="outline-4"&gt;
&lt;h4 id="org613a01c"&gt;Update&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-org613a01c"&gt;
&lt;p&gt;
These calls update the database and then show us what is upgradable. 
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;boldblue Checking apt
sudo apt-fast update --yes
sudo apt-get --just-print upgrade
&lt;/pre&gt;&lt;/div&gt;

&lt;div class="notecard" id="orgd3bd8e3"&gt;
&lt;p&gt;
I was initially using &lt;code&gt;apt&lt;/code&gt; to list the upgradable packages, but installing &lt;code&gt;more&lt;/code&gt; as a pager causes its output to get piped to it, stopping progress until I quit it. Looking into how to get around it I read that &lt;code&gt;apt&lt;/code&gt; is a front-end to other packages to make them easier to use, and that &lt;code&gt;apt-get&lt;/code&gt; is  better for non-interactive use (and is one of the things that &lt;code&gt;apt&lt;/code&gt; is using behind the scenes anyway).
&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org127b823" class="outline-4"&gt;
&lt;h4 id="org127b823"&gt;Upgrade and Autoremove&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-org127b823"&gt;
&lt;p&gt;
Now we run the upgrade. &lt;code&gt;upgrade&lt;/code&gt; will upgrade installed packages and install any dependencies that are needed, but not uninstall any already installed packages. If upgrading needs to a removal it won't do the upgrade. &lt;code&gt;full-upgrade&lt;/code&gt; will do what &lt;code&gt;upgrade&lt;/code&gt; does but will remove any installed packages if needed to upgrade an installed package. So, we're going with &lt;code&gt;full-upgrade&lt;/code&gt;.
&lt;/p&gt;

&lt;p&gt;
I'm also auto-removing any packages that get orphaned as dependencies by an upgrade. 
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;boldblue Upgrading apt
sudo apt-fast full-upgrade --yes
sudo apt-get autoremove --yes
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org32fb363" class="outline-3"&gt;
&lt;h3 id="org32fb363"&gt;Snap&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org32fb363"&gt;
&lt;p&gt;
Snaps should update themselves. But let's see what happens if we do it.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;boldblue Updating snaps
sudo snap refresh
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgfa0829b" class="outline-3"&gt;
&lt;h3 id="orgfa0829b"&gt;Flatpak&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgfa0829b"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org377941a" class="outline-4"&gt;
&lt;h4 id="org377941a"&gt;Update&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-org377941a"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;boldblue Updating flatpak
flatpak update --assumeyes
&lt;/pre&gt;&lt;/div&gt;

&lt;div class="notecard" id="org4d743ac"&gt;
&lt;p&gt;
&lt;b&gt;&lt;b&gt;Note:&lt;/b&gt;&lt;/b&gt; I was running this with &lt;code&gt;--noninteractive&lt;/code&gt; but for some reason this still emitted messages that something needed to be fixed but suppressed the message telling me which package needed to be fixed, so it seems better not to use that option.
&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orga408d75" class="outline-3"&gt;
&lt;h3 id="orga408d75"&gt;Uninstall&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orga408d75"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;boldblue Uninstalling unused flatpaks
flatpak uninstall --unused --assumeyes
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orga1da25c" class="outline-2"&gt;
&lt;h2 id="orga1da25c"&gt;Some Messages&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orga1da25c"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org904f869" class="outline-3"&gt;
&lt;h3 id="org904f869"&gt;Phased Updates&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org904f869"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;The following upgrades have been deferred due to phasing:
  alsa-ucm-conf
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This message is referring to &lt;a href="https://documentation.ubuntu.com/server/explanation/software/about-apt-upgrade-and-phased-updates/"&gt;Phased Updating&lt;/a&gt;. That is, there is an update that is being rolled out in stages to see if it is stable before it's given out to everybody. So the update exists, but you won't get it until the developers decide it's okay to roll it out to everybody.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>apt</category><category>cli</category><category>functions</category><category>packages</category><category>snap</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/upgrade-function/index.html</guid><pubDate>Tue, 24 Jun 2025 19:04:29 GMT</pubDate></item><item><title>Tar XZ Compression Abbreviation</title><link>https://necromuralist.github.io/Give-The-Fish/posts/tar-xz-compression-abbreviation/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; xtard
    &lt;span class="k"&gt;set&lt;/span&gt; BASE &lt;span class="o"&gt;(&lt;/span&gt;string replace --regex &lt;span class="s2"&gt;"/\$"&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
    tar --create --xz --file &lt;span class="nv"&gt;$BASE&lt;/span&gt;.tar.xz &lt;span class="nv"&gt;$argv&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><category>compression</category><category>functions</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/tar-xz-compression-abbreviation/index.html</guid><pubDate>Mon, 02 Dec 2024 01:36:28 GMT</pubDate></item><item><title>To Webp Functions</title><link>https://necromuralist.github.io/Give-The-Fish/posts/to-webp-function/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents" role="doc-toc"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents" role="doc-toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/to-webp-function/index.html#org02287fe"&gt;To Webp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/to-webp-function/index.html#org39a615b"&gt;Lossless Webp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org02287fe" class="outline-2"&gt;
&lt;h2 id="org02287fe"&gt;To Webp&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org02287fe"&gt;
&lt;p&gt;
A simple for loop to make using globs easier with cwebp.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; towebp -d &lt;span class="s2"&gt;"Convert image files to web with cweb"&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; SOURCE_IMAGE &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;
        &lt;span class="k"&gt;set&lt;/span&gt; OUTPUT &lt;span class="o"&gt;(&lt;/span&gt;path change-extension webp &lt;span class="nv"&gt;$SOURCE_IMAGE&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
        cwebp &lt;span class="nv"&gt;$SOURCE_IMAGE&lt;/span&gt; -o &lt;span class="nv"&gt;$OUTPUT&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
I'm pretty sure I saw a one-liner to do this (using pipes) but it was hard to understand so I thought this would make it clearer to myself what is going on, rather than just copying a command I can't figure out.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org39a615b" class="outline-2"&gt;
&lt;h2 id="org39a615b"&gt;Lossless Webp&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org39a615b"&gt;
&lt;p&gt;
The previous function used the default compression (lossy). This uses the lossless conversion with maximum compression and quality.
&lt;/p&gt;

&lt;div class="notecard" id="orgd99a39f"&gt;
&lt;p&gt;
I looked in the source code (from Google's &lt;a href="https://chromium.googlesource.com/webm/libwebp/"&gt;&lt;code&gt;libwebp&lt;/code&gt;&lt;/a&gt; git repository) and the &lt;code&gt;-z&lt;/code&gt; flag is equivalent to using &lt;code&gt;-lossless -m 6 -q 10&lt;/code&gt; (or whatever the max is for both of them), although for some reason it seemed to do better when I was testing it earlier…
&lt;/p&gt;

&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; losslesswebp --description &lt;span class="s1"&gt;'Convert image files to lossless webp'&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; SOURCE_IMAGE &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;
        &lt;span class="k"&gt;set&lt;/span&gt; OUTPUT &lt;span class="o"&gt;(&lt;/span&gt;path change-extension .z9.webp &lt;span class="nv"&gt;$SOURCE_IMAGE&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
        cwebp -z &lt;span class="m"&gt;9&lt;/span&gt; &lt;span class="nv"&gt;$SOURCE_IMAGE&lt;/span&gt; -o &lt;span class="nv"&gt;$OUTPUT&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>cli</category><category>functions</category><category>images</category><category>webp</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/to-webp-function/index.html</guid><pubDate>Thu, 21 Nov 2024 01:28:44 GMT</pubDate></item><item><title>Convert a Document To PDF With Pandoc</title><link>https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents" role="doc-toc"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents" role="doc-toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html#org2d5b7e2"&gt;What's This About?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html#orgc9cc44d"&gt;Headers&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html#orgabb50f3"&gt;Libertinus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html#org3c34b24"&gt;Pagella&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html#org3fd93b9"&gt;The Function&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html#org8ef3aab"&gt;Links&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org2d5b7e2" class="outline-2"&gt;
&lt;h2 id="org2d5b7e2"&gt;What's This About?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org2d5b7e2"&gt;
&lt;p&gt;
This is a function to help convert documents to PDF using pandoc. I was motivated to do this because the EPUB readers I tried (on Ubuntu) don't seem to do a good job of styling the text or providing the options to really let you do it (at least not easily through the GUI). Foliate seems to be the best for styling, but I occasionally run into EPUB files that it won't open so I thought it'd be useful to convert them to PDF sometimes.
&lt;/p&gt;

&lt;p&gt;
Pandoc will convert an ePub or other formatted file to PDF (using &lt;i&gt;pdflatex&lt;/i&gt;) without much configuration
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pandoc inputfile.epub -o output.pdf
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
but it defaults to using &lt;a href="https://en.wikipedia.org/wiki/Computer_Modern"&gt;Computer Modern&lt;/a&gt;, making it look like those old Springer books in the library, so I thought I'd create this function to document how to change the font in case I forget later on.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgc9cc44d" class="outline-2"&gt;
&lt;h2 id="orgc9cc44d"&gt;Headers&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgc9cc44d"&gt;
&lt;p&gt;
You can set the font as a command line argument to pandoc (e.g. &lt;code&gt;-V fontfamily:libertine&lt;/code&gt; ) but I thought it'd be better to create a tex header snippet so that I could add more configurations if I needed to.
&lt;/p&gt;

&lt;p&gt;
The function is going to assume that the pagella snippet is in a folder in &lt;code&gt;~/.config/fish/extras/&lt;/code&gt; which I created using a symlink to the &lt;code&gt;extras&lt;/code&gt; folder in this repository, but it'll also take a path to the header if it's given.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgabb50f3" class="outline-3"&gt;
&lt;h3 id="orgabb50f3"&gt;Libertinus&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgabb50f3"&gt;
&lt;p&gt;
This is a font I ran into while searching around for instructions on changing the pandoc font. I'm not convinced it's better than Palatino, but it's better than Computer Modern, anyway.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;\usepackage&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;libertinus&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;\usepackage&lt;/span&gt;&lt;span class="na"&gt;[T1]&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;fontenc&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;\usepackage&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;sectsty&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;\sectionfont&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;&lt;span class="k"&gt;\clearpage&lt;/span&gt;&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org3c34b24" class="outline-3"&gt;
&lt;h3 id="org3c34b24"&gt;Pagella&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org3c34b24"&gt;
&lt;p&gt;
The Libertine/Libertinus font wasn't really what I was looking for so I made Tex Gyre Pagella version as well.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;\usepackage&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;tgpagella&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;\usepackage&lt;/span&gt;&lt;span class="na"&gt;[T1]&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;fontenc&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;\usepackage&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;sectsty&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;\sectionfont&lt;/span&gt;&lt;span class="nb"&gt;{&lt;/span&gt;&lt;span class="k"&gt;\clearpage&lt;/span&gt;&lt;span class="nb"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;div class="notecard" id="orgb620824"&gt;
&lt;p&gt;
&lt;b&gt;&lt;b&gt;Note:&lt;/b&gt;&lt;/b&gt; I originally accidentally put &lt;i&gt;pagella&lt;/i&gt; and not &lt;i&gt;tgpagella&lt;/i&gt; which took me a while to trouble-shoot, so for the future remember - it's "Tex Gyre Pagella" not just "Pagella". Also it's &lt;i&gt;sectsty&lt;/i&gt; not &lt;i&gt;secsty&lt;/i&gt;.
&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org3fd93b9" class="outline-2"&gt;
&lt;h2 id="org3fd93b9"&gt;The Function&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org3fd93b9"&gt;
&lt;p&gt;
Nothing fancy here, it just adds the extra header file. I originally added the &lt;code&gt;--table-of-contents&lt;/code&gt; flag but it creates one from the EPUB anyway so that caused it to have two tables of contents.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; doc2pdf -d &lt;span class="s2"&gt;"Convert document to pdf with pandoc"&lt;/span&gt; --argument-names SOURCE HEADER
    &lt;span class="k"&gt;set&lt;/span&gt; TARGET &lt;span class="nv"&gt;$(&lt;/span&gt;path change-extension pdf &lt;span class="nv"&gt;$SOURCE&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="k"&gt;test&lt;/span&gt; -z &lt;span class="nv"&gt;$HEADER&lt;/span&gt;
        &lt;span class="k"&gt;set&lt;/span&gt; HEADER ~/.config/fish/extras/pagella.tex
    &lt;span class="k"&gt;end&lt;/span&gt;

    pandoc --standalone &lt;span class="nv"&gt;$SOURCE&lt;/span&gt; --output &lt;span class="nv"&gt;$TARGET&lt;/span&gt; --include-in-header &lt;span class="nv"&gt;$HEADER&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org8ef3aab" class="outline-2"&gt;
&lt;h2 id="org8ef3aab"&gt;Links&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org8ef3aab"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;a href="https://learnbyexample.github.io/customizing-pandoc/"&gt;learnbyexample&lt;/a&gt; : "Customizing pandoc to generate beautiful pdf and epub from markdown" - shows how to include extra tex header information and other pandoc options to customize PDF output&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tug.org/FontCatalogue/texgyrepagella/"&gt;Latex Font Catalogue&lt;/a&gt; : Tex Gyre Pagella page&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tug.org/FontCatalogue/linuxlibertine/"&gt;Latex Font Catalogue&lt;/a&gt; : Linux Libertine Page&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tug.org/FontCatalogue/libertinusserif/"&gt;Latex Font Catalogue&lt;/a&gt; : Libertinus Serif Page&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/alerque/libertinus"&gt;GitHub&lt;/a&gt;: The Libertinus repository page&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Linux_Libertine"&gt;Wikipedia&lt;/a&gt; : Libertine and Libertinus information&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Give-The-Fish/posts/rst2org-function/index.html"&gt;rst2org Function&lt;/a&gt;: Another function using pandoc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>functions</category><category>latex</category><category>pandoc</category><category>pdf</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/convert-a-document-to-pdf-with-pandoc/index.html</guid><pubDate>Tue, 28 Nov 2023 21:45:17 GMT</pubDate></item><item><title>Dim Monitor</title><link>https://necromuralist.github.io/Give-The-Fish/posts/dim-monitor/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; dim_monitor -d &lt;span class="s2"&gt;"Set monitor brightness"&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --argument-names OUTPUT BRIGHTNESS

  &lt;span class="c"&gt;# -z : test for empty string&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="k"&gt;test&lt;/span&gt; -z &lt;span class="nv"&gt;$BRIGHTNESS&lt;/span&gt;
    &lt;span class="k"&gt;set&lt;/span&gt; BRIGHTNESS 0
  &lt;span class="k"&gt;end&lt;/span&gt;

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="k"&gt;test&lt;/span&gt; -z &lt;span class="nv"&gt;$OUTPUT&lt;/span&gt;
      &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"You must pass in the 'output' e.g. 'DVI-D-0'"&lt;/span&gt;
      &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"Usage: dim_monitor OUTPUT BRIGHTNESS"&lt;/span&gt;
   &lt;span class="k"&gt;else&lt;/span&gt;
       xrandr --output &lt;span class="nv"&gt;$OUTPUT&lt;/span&gt; --brightness &lt;span class="nv"&gt;$BRIGHTNESS&lt;/span&gt; --auto
   &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><category>functions</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/dim-monitor/index.html</guid><pubDate>Thu, 05 Oct 2023 00:14:37 GMT</pubDate></item><item><title>Function: Apt Search</title><link>https://necromuralist.github.io/Give-The-Fish/posts/function-apt-search/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
This function pipes the output of apt search to less, preserving the colors. &lt;code&gt;apt&lt;/code&gt; doesn't have an option to preserve color when the output is piped so the function uses &lt;a href="https://linux.die.net/man/1/unbuffer"&gt;unbuffer&lt;/a&gt; which disables the stripping of the color. &lt;code&gt;unbuffer&lt;/code&gt; is part of the &lt;a href="https://www.man7.org/linux/man-pages/man1/expect.1.html"&gt;expect&lt;/a&gt; package. On Ubuntu Lunar Lobster it doesn't come installed by default so you have to install expects to get unbuffer.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt install expects
&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; aptsearch -d &lt;span class="s2"&gt;"Paging apt search"&lt;/span&gt; --argument-names keyword
    unbuffer apt search &lt;span class="nv"&gt;$keyword&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; less -R
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div id="outline-container-org785920e" class="outline-2"&gt;
&lt;h2 id="org785920e"&gt;Links&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org785920e"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;expect(1) - Linux man page [Internet]. [cited 2023 Jun 28]. Available from: &lt;a href="https://linux.die.net/man/1/expect"&gt;https://linux.die.net/man/1/expect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;unbuffer(1): unbuffer output - Linux man page [Internet]. [cited 2023 Jun 28]. Available from: &lt;a href="https://linux.die.net/man/1/unbuffer"&gt;https://linux.die.net/man/1/unbuffer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>apt</category><category>function</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/function-apt-search/index.html</guid><pubDate>Wed, 28 Jun 2023 20:26:53 GMT</pubDate></item><item><title>rst2org Function</title><link>https://necromuralist.github.io/Give-The-Fish/posts/rst2org-function/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; rst2org -d &lt;span class="s2"&gt;"Convert text file to org"&lt;/span&gt; --argument-names sourcefile
    &lt;span class="k"&gt;set&lt;/span&gt; target &lt;span class="nv"&gt;$(&lt;/span&gt;path change-extension org &lt;span class="nv"&gt;$sourcefile&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
    pandoc --standalone &lt;span class="nv"&gt;$sourcefile&lt;/span&gt; --output &lt;span class="nv"&gt;$target&lt;/span&gt; --wrap&lt;span class="o"&gt;=&lt;/span&gt;none
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This function will convert a text file to an org file using pandoc. I called it &lt;code&gt;rst2org&lt;/code&gt; because I created it specifically to convert restructured text, but since pandoc can infer it from the file extension it can be any input type that pandoc recognizes, I suppose.
&lt;/p&gt;
&lt;div id="outline-container-orgecc729a" class="outline-2"&gt;
&lt;h2 id="orgecc729a"&gt;What It's Doing&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgecc729a"&gt;
&lt;p&gt;
The first thing the function does is change the file extension from whatever it is to "org". So whatever gets passed in as the argument should have an extension like ".rst". Then it runs pandoc.
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;code&gt;--standalone&lt;/code&gt;: by default pandoc strips out the header and footer, this option tells it to keep it (useful for nikola and most other thing I would imagine)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--output&lt;/code&gt;: The output file name which pandoc also uses to guess the format we want to use.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--wrap=none&lt;/code&gt;: by default pandoc will insert line-breaks to keep the lines within their default width, adding this argument keeps long lines as single lines.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org59dedf4" class="outline-2"&gt;
&lt;h2 id="org59dedf4"&gt;Links&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org59dedf4"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;mb21. Answer to “Word to Markdown via pandoc: prevent line breaks in paragraphs” [Internet]. Stack Overflow. 2020 [cited 2023 Jun 22]. Available from: &lt;a href="https://stackoverflow.com/a/62990248"&gt;https://stackoverflow.com/a/62990248&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
The first option documented in the options section of the pandoc documentation is &lt;code&gt;--from&lt;/code&gt; which then lists all the languages that pandoc can take as an input.
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;pandoc general options [Internet]. Available from &lt;a href="https://pandoc.org/MANUAL.html#general-options"&gt;https://pandoc.org/MANUAL.html#general-options&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>functions</category><category>org-mode</category><category>pandoc</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/rst2org-function/index.html</guid><pubDate>Thu, 22 Jun 2023 19:51:54 GMT</pubDate></item><item><title>las: Colored List All</title><link>https://necromuralist.github.io/Give-The-Fish/posts/las-colored-list-all/index.html</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; las
    ls --almost-all &lt;span class="se"&gt;\&lt;/span&gt;
       --color &lt;span class="se"&gt;\&lt;/span&gt;
       --dereference-command-line &lt;span class="se"&gt;\&lt;/span&gt;
       --human-readable &lt;span class="se"&gt;\&lt;/span&gt;
       -l &lt;span class="nv"&gt;$argv&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
        less --RAW-CONTROL-CHARS
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
The point of this function is to show all the files in the directory (including hidden files) and pipe them to &lt;code&gt;less&lt;/code&gt; so they won't go scrolling off the screen while keeping the color highlighting.
&lt;/p&gt;
&lt;div id="outline-container-org6d179f6" class="outline-2"&gt;
&lt;h2 id="org6d179f6"&gt;The Parts&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org6d179f6"&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgc3d6bfa" class="outline-3"&gt;
&lt;h3 id="orgc3d6bfa"&gt;The &lt;code&gt;ls&lt;/code&gt; Arguments&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgc3d6bfa"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;code&gt;--almost-all&lt;/code&gt;: don't list the &lt;code&gt;.&lt;/code&gt; and &lt;code&gt;..&lt;/code&gt; files&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--color&lt;/code&gt;: Color the output when (defaults to "always" but you can set to "auto" or "never")&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--dereference-command-line&lt;/code&gt;: follow symbolic links listed on the command line&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--human-readable&lt;/code&gt;: Put file sizes into units that make sense (when using &lt;code&gt;-l&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-l&lt;/code&gt;: Long listing format.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org02d0fd5" class="outline-3"&gt;
&lt;h3 id="org02d0fd5"&gt;The &lt;code&gt;less&lt;/code&gt; Argument&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org02d0fd5"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;code&gt;--RAW-CONTROL-CHARS&lt;/code&gt;: Keep colors and hyperlink sequences.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="notecard" id="org89cd72e"&gt;
&lt;p&gt;
There is also a &lt;code&gt;--raw-control-chars&lt;/code&gt; option which will include all escape sequences, but they say this might cause less to not be able to control the appearance of the screen so they don't recommend using it. Also, you can set the &lt;code&gt;LESS&lt;/code&gt; environment variable to pass in options, so if this is useful enough it might make sense to put it in there instead.
&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>alias</category><category>color</category><category>functions</category><guid>https://necromuralist.github.io/Give-The-Fish/posts/las-colored-list-all/index.html</guid><pubDate>Thu, 22 Jun 2023 19:10:57 GMT</pubDate></item></channel></rss>